(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={input:"ContactForm_input__1rOhN",lable:"ContactForm_lable__31wzT",form:"ContactForm_form__2e71M"}},21:function(t,e,n){t.exports={item:"Contacts_item__38zVG",list:"Contacts_list__1dlaY",enter:"Contacts_enter__20c8P",enterActive:"Contacts_enterActive__1igGm",exit:"Contacts_exit__1g6Ea",exitActive:"Contacts_exitActive__107Mz"}},26:function(t,e,n){t.exports={appear:"App_appear__x-Ulj",appearActive:"App_appearActive__2S9zv",fontColor:"App_fontColor__1XQUo",Container:"App_Container__227ZQ",enter:"App_enter__2b1UK",enterActive:"App_enterActive__Z-rqf",exit:"App_exit__3CbTl",exitActive:"App_exitActive__1WBgm"}},64:function(t,e,n){"use strict";n.r(e);var c,a=n(1),o=n(0),r=n(8),s=n.n(r),i=n(7),u=n(15),l=n(16),b=n(19),d=n(17),f=n(67),h=n(66),j=n(20),m=n.n(j),p=n(2),C=Object(p.b)("contacts/addRequest"),O=Object(p.b)("contacts/addSuccess"),_=Object(p.b)("contacts/addError"),v=Object(p.b)("contacts/fetchRequest"),x=Object(p.b)("contacts/fetchSuccess"),g=Object(p.b)("contacts/fetchError"),A=Object(p.b)("contacts/removeRequest"),y=Object(p.b)("contacts/removeSuccess"),S=Object(p.b)("contacts/removeError"),F={addContactsRequest:C,addContactsSuccess:O,addContactsError:_,handleFilter:Object(p.b)("contact/filter",(function(t){return{payload:{filter:t}}})),fetchContactsRequest:v,fetchContactsSuccess:x,fetchContactsError:g,removeContactsRequest:A,removeContactsSuccess:y,removeContactsError:S},N={AddContacts:function(t,e){return function(n){n(F.addContactsRequest()),m.a.post("http://localhost:2000/contacts",{name:t,number:e}).then((function(t){return n(F.addContactsSuccess(t.data))})).catch((function(t){return n(F.addContactsError(t))}))}},fetchContacts:function(){return function(t){t(F.fetchContactsRequest()),m.a.get("http://localhost:2000/contacts").then((function(e){return t(F.fetchContactsSuccess(e.data))})).catch((function(e){return t(F.fetchContactsError(e))}))}},removeContacts:function(t){return function(e){e(F.removeContactsRequest),m.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){return e(F.removeContactsSuccess(t))})).catch((function(t){return e(F.removeContactsError(t))}))}}},E=n(14),q=function(t){return t.contacts.filter},k={getLoading:function(t){return t.contacts.loading},getFilter:q,filterContacts:Object(E.a)([q,function(t){return t.contacts.items}],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},w=n(21),R=n.n(w),D={onDelete:N.removeContacts},L=Object(i.b)((function(t){return{contacts:k.filterContacts(t)}}),D)((function(t){var e=t.contacts,n=t.onDelete;return Object(a.jsx)(f.a,{component:"ul",className:R.a.list,children:e.length?e.map((function(t){return Object(a.jsx)(h.a,{timeout:250,classNames:R.a,children:Object(a.jsxs)("li",{className:R.a.item,children:[t.name,": ",t.number,Object(a.jsx)("button",{onClick:function(){return n(t.id)},type:"button",children:"Delete"})," "]},t.id)},t.id)})):[]})})),z=n(9),M=n(12),U=n.n(M),B=function(t){Object(b.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(z.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault(),t.props.toAddContacts(t.state.name,t.state.number),t.setState({name:"",number:""})},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("form",{className:U.a.form,onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{className:U.a.lable,children:["Name",Object(a.jsx)("input",{className:U.a.input,name:"name",type:"text",value:this.state.name,onChange:this.handleChange})]}),Object(a.jsxs)("label",{className:U.a.lable,children:["Number",Object(a.jsx)("input",{className:U.a.input,name:"number",type:"phone",value:this.state.number,onChange:this.handleChange}),Object(a.jsx)("button",{type:"submit",children:"Add contact"})]})]})}}]),n}(o.Component),G=Object(i.b)(null,(function(t){return{toAddContacts:function(e,n){return t(N.AddContacts(e,n))}}}))(B),J={toFilter:F.handleFilter},P=Object(i.b)((function(t){return{value:k.getFilter(t)}}),J)((function(t){var e=t.value,n=t.toFilter;return Object(a.jsx)("div",{children:Object(a.jsx)("input",{type:"text",name:"filter",value:e,onChange:function(t){return n(t.target.value)}})})})),Q=n(26),T=n.n(Q),Z=function(t){Object(b.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.toFetchContacts()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:T.a.Container,children:[Object(a.jsx)("h1",{className:T.a.fontColor,children:"Phonebook"}),Object(a.jsx)(G,{}),Object(a.jsx)("h2",{children:"Find contacts by name"}),Object(a.jsx)(P,{}),Object(a.jsx)(L,{})]})}}]),n}(o.Component),I={toFetchContacts:N.fetchContacts},K=Object(i.b)((function(t){return{isLoadingContacts:k.getLoading(t)}}),I)(Z),V=n(18),W=n(6),X=Object(p.c)([],(c={},Object(z.a)(c,F.fetchContactsSuccess,(function(t,e){return e.payload})),Object(z.a)(c,F.addContactsSuccess,(function(t,e){if(!t.find((function(t){return t.name===e.payload.name})))return[].concat(Object(V.a)(t),[e.payload]);alert("".concat(e.payload.name," is already in contacts"))})),Object(z.a)(c,F.removeContactsSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),Y=Object(p.c)("",Object(z.a)({},F.handleFilter,(function(t,e){return e.payload.filter}))),H=Object(W.c)({items:X,filter:Y}),$=Object(p.d)(),tt=Object(p.a)({reducer:{contacts:H},middleware:Object(V.a)($)});s.a.render(Object(a.jsx)(i.a,{store:tt,children:Object(a.jsx)(K,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.cc653a1a.chunk.js.map